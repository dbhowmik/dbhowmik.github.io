<!DOCTYPE html> <html ⚡ lang="de" itemscope itemtype="http://schema.org/WebPage"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"> <title>Lukas Himsel</title> <link rel="canonical" href="http://localhost:4000/06-04-2017-Accelerated-Mobile-Pages.html"> <link rel="shortcut icon" href="/images/favicon.png"> <meta name="description" content="Lukas Himsel's personal website. 17 years old student in Germany, Franconia. Interested in open-source, open-data, modern web development (with AMP, static site generators, following the JAMStack) and music, especially piano music. Blog mostly in german language. "> <meta name="robots" content="index,follow"> <meta name="author" content="Lukas Himsel"> <meta itemprop="name" content="Lukas Himsel"> <meta property="og:url" content="http://localhost:4000" /> <meta property="og:type" content="website" /> <meta property="og:title" content="Lukas Himsel" /> <meta property="og:description" content="Lukas Himsel's personal website. 17 years old student in Germany, Franconia. Interested in open-source, open-data, modern web development (with AMP, static site generators, following the JAMStack) and music, especially piano music. Blog mostly in german language. " /> <meta property="og:image" content="http://localhost:4000/images/favicon.png" /> <meta property="og:image:type" content="image/png" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:site" content="@lukashimsel" /> <meta name="twitter:title" content="Lukas Himsel" /> <meta name="twitter:description" content="Lukas Himsel's personal website. 17 years old student in Germany, Franconia. Interested in open-source, open-data, modern web development (with AMP, static site generators, following the JAMStack) and music, especially piano music. Blog mostly in german language. " /> <meta name="twitter:image" content="http://localhost:4000/images/favicon.png" /> <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM feed"> <link href="/feed.xml" type="application/rss+xml" rel="alternate" title="RSS feed"> <style amp-custom> @font-face { font-family: 'Lato'; font-style: normal; font-weight: 400; src: local('Lato Regular'), local('Lato-Regular'), url(https://fonts.gstatic.com/s/lato/v13/v0SdcGFAl2aezM9Vq_aFTQ.ttf) format('truetype'); } /* Preserve some sanity */ .grid, .unit { -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; } /* Set up some rules to govern the grid */ .grid { display: block; clear: both; } .grid .unit { float: left; width: 100%; padding: 10px; } /* This ensures the outer gutters are equal to the (doubled) inner gutters. */ .grid .unit:first-child { padding-left: 20px; } .grid .unit:last-child { padding-right: 20px; } /* Nested grids already have padding though, so let’s nuke it */ .unit .unit:first-child { padding-left: 0; } .unit .unit:last-child { padding-right: 0; } .unit .grid:first-child > .unit { padding-top: 0; } .unit .grid:last-child > .unit { padding-bottom: 0; } /* Let people nuke the gutters/padding completely in a couple of ways */ .no-gutters .unit, .unit.no-gutters { padding: 0; } /* Wrapping at a maximum width is optional */ .wrap .grid, .grid.wrap { max-width: 978px; margin: 0 auto; } /* Width classes also have shorthand versions numbered as fractions * For example: for a grid unit 1/3 (one third) of the parent width, * simply apply class="w-1-3" to the element. */ .grid .whole, .grid .w-1-1 { width: 100%; } .grid .half, .grid .w-1-2 { width: 50%; } .grid .one-third, .grid .w-1-3 { width: 33.3332%; } .grid .two-thirds, .grid .w-2-3 { width: 66.6665%; } .grid .one-quarter, .grid .w-1-4 { width: 25%; } .grid .three-quarters, .grid .w-3-4 { width: 75%; } .grid .one-fifth, .grid .w-1-5 { width: 20%; } .grid .two-fifths, .grid .w-2-5 { width: 40%; } .grid .three-fifths, .grid .w-3-5 { width: 60%; } .grid .four-fifths, .grid .w-4-5 { width: 80%; } .grid .golden-small, .grid .w-g-s { width: 38.2716%; } /* Golden section: smaller piece */ .grid .golden-large, .grid .w-g-l { width: 61.7283%; } /* Golden section: larger piece */ /* Clearfix after every .grid */ .grid:before, .grid:after { display: table; content: ""; line-height: 0; } .grid:after { clear: both; } /* Utility classes */ .align-center { text-align: center; } .align-left { text-align: left; } .align-right { text-align: right; } .pull-left { float: left; } .pull-right { float: right; } /* Responsive Stuff */ @media screen and (max-width: 568px) { /* Stack anything that isn’t full-width on smaller screens */ .grid .unit { width: 100%; padding-left: 20px; padding-right: 20px; } .unit .grid .unit { padding-left: 0px; padding-right: 0px; } /* Sometimes, you just want to be different on small screens */ .center-on-mobiles { text-align: center; } .hide-on-mobiles { display: none; } } /* added by me */ @media screen and (min-width: 569px) { .hide-on-desktops { display: none; } .card-content{ padding: 10px 20px 20px; } } @media screen and (max-width: 568px) { .card-content{ padding: 7px 7px 5px; } } body{ font-family: 'Lato', sans-serif; font-size: 18px; } h1{ font-size: 3rem; } h2{ font-size: 2.5rem; } h3{ font-size: 1.5rem; } h4{ font-size: 1.4m; } h5{ font-size: 1.3rem; } h6{ font-size: 1.2rem; } h1, h2, h3, h4, h5, h6{ margin: 6px 0 6px; font-family: 'Lato', sans-serif; font-weight: 500; } a{ text-decoration: none; color: #db4646; cursor: pointer; } a:hover{ color: #b21c1c; } a:active{ color: #910b0b; } ul{ list-style-type:disc; padding-left:1rem; } ol{ list-style-type: decimal; padding-left:1rem; } li{ display: list-item; text-align: -webkit-match-parent; margin: 0; } .github-icon:hover, .github-icon:focus, .github-icon:active{ color: #85d063; } .twitter-icon:hover, .twitter-icon:focus, .twitter-icon:active{ color: #1da0f2; } .mail-icon:hover, .mail-icon:focus, .mail-icon:active{color: #db4646; } .rss-icon:hover, .rss-icon:focus, .rss-icon:active{color:#f49c52;} .btn{ border: none; border-radius: 2px; display: inline-block; height: 36px; line-height: 36px; padding: 0 0.6rem; cursor: pointer; transition: background-color .2s; vertical-align: middle; color: #343434; background-color: transparent; box-shadow: none; -webkit-tap-highlight-color: transparent; text-decoration: none; text-transform: uppercase; font-size: 15px; font-weight: 600; letter-spacing: .18rem; font-family:'Lato',sans-serif; margin: 0.4rem 0 0.4rem; } .github-icon, .twitter-icon, .mail-icon, .rss-icon{ padding: 0 1rem; } .btn i{ font-size: 17px; } .btn:focus, .btn:hover { background-color: rgba(0,0,0,0.1); } .btn:active { background-color: rgba(0, 0, 0, 0.2); } .btn.disabled, btn:disabled { background-color: transparent; color: #b3b3b3; cursor: default; } .card{ border: 1px solid lightgrey; border-radius: 5px; margin: 10px 0 10px; min-height: 175px; } .card-content{ margin: 0; min-height: calc(175px - 36px); } .card-action{ border-top: 1px solid lightgrey; background: #f7f7e6; margin: 0; padding: 5px 7px 7px; min-height: 36px; } .card-action .btn{ margin:0 } .card-content img{ max-width: 100%; } article p{ padding-left: 0.5rem; } .chip{ display: inline-block; height: 30px; text-transform: uppercase; font-size: 13px; font-weight: 600; letter-spacing: .18rem; font-family:'Lato',sans-serif; line-height: 30px; padding: 0 10px; border-radius: 15px; background-color: #f7f7e6; margin-bottom: 5px; margin-right: 5px; } .chip i{ font-size: 17px; } code, kbd{ background: #eaeaea; border-radius: 3px; line-height: 16.5px; font-family:monospace; font-size: 17px; padding: 2px 4px; } @font-face{font-family:"Ionicons";src:url("/assets/fonts/ionicons.ttf")format("truetype");font-weight:normal;font-style:normal} .ion-social-github:before{content:"\f233"} .ion-social-twitter:before{content:"\f243"} .ion-email:before{content:"\f132"} .ion-social-rss:before{content:"\f23d"} .ion-earth:before{content:"\f276"} .ion-social-github:before,.ion-earth:before,.ion-email:before,.ion-social-rss:before,.ion-social-twitter:before{display:inline-block;font-family:"Ionicons";speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;text-rendering:auto;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale} </style> <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript> <script async src="https://cdn.ampproject.org/v0.js"></script> <script async custom-element="amp-gist" src="https://cdn.ampproject.org/v0/amp-gist-0.1.js"></script> </head> <body class="wrap"> <div class="grid"> <nav> <div id="/home" class="unit whole align-center"> <h1>Lukas Himsel</h1> <div id="/contact"> <a href="https://twitter.com/lukashimsel" class="twitter-icon btn"><i class="icon ion-social-twitter"></i></a> <a href="https://github.com/lukas-h" class="github-icon btn"><i class="icon ion-social-github"></i></a> <a href="mailto:lukas@himsel.me" class="mail-icon btn"><i class="icon ion-email"></i></a> <a href="feed.xml" class="rss-icon btn"><i class="icon ion-social-rss"></i></a> </div> <div class="align-center"> <a class="btn" href="/index.html">PROJEKTE</a> <a class="btn" href="/blog.html">BLOG</a> <a class="btn" href="/imprint.html">IMPRESSUM</a> </div> </div> </nav> <main> <div class="unit whole" id="content"> <div class="card align-left"> <div class="card-content"> <article itemscope itemtype="http://schema.org/BlogPosting"> <meta itemscope itemprop="mainEntityOfPage" itemType="https://schema.org/WebPage" itemid="https://google.com/article"/> <h3 itemprop="headline">Accelerated Mobile Pages und Jekyll<br> <meta itemprop="datePublished" content="2017-06-04 00:00:00 +0000"/> <meta itemprop="dateModified" content="2017-06-04 00:00:00 +0000"/> <small class="chip">Jun 4, 2017</small> <a class="chip" href="https://twitter.com/intent/tweet?text=Accelerated+Mobile+Pages+und+Jekyll&url=http%3A%2F%2Flocalhost%3A4000%2F06-04-2017-Accelerated-Mobile-Pages.html"><i class="icon ion-social-twitter"></i> TWEET</a> <a class="chip" href="http://localhost:4000/06-04-2017-Accelerated-Mobile-Pages.html"><i class="icon ion-android-share-alt"></i> LINK</a> </h3> <div class="page-content" itemprop="articleBody"> <p>Ich habe meine Website jetzt komplett auf <a href="https://ampproject.com">Accelerated Mobile Pages (AMP)</a> umgestellt.</p> <p><em>Wozu AMP?</em><br /> AMP ist von Google veröffentlicht worden, um das mobile Internet zu beschleunigen (wie der Name schon sagt). Die mit AMP-Html geschriebenen Seiten laden im Vergleich zu normalem HTML viel schneller, weil man möglichst wenige Dateien (Scripts, Stylesheets) lädt und so die Seiten kompakt hält. Außerdem werden AMP-Seiten bei Google zwischengespeichert (im AMP-Cache), wodurch sie fast auf Klick geladen haben. Man sieht bei Google AMP-Seiten im News-Rondell und bei Google Shopping. Bing und Twitter unterstützen AMP, sowie Tumblr, Ebay und viele andere Firmen stellen ihre Inhalte über AMP bereit.</p> <p>Da ich gerade bei Projekten mit AMP, in Verbindung mit <a href="http://jekyllrb.com">Jekyll</a> arbeite, wollte ich meine persönliche Webseite auch umstellen.</p> <p>Damit mein Jekyll-Blog AMP unterstützt, muss das Layout angepasst werden, sowie einige HTML-Tags mit den AMP-Äquivalenten ausgetauscht werden.</p> <p>Mein default-Layout (im Ordner <code class="highlighter-rouge">_layouts</code>) bei Jekyll sieht jetzt so aus:</p> <amp-gist data-gistid="ab8e997dbaa0e13b9c884d4570d9d7c7" layout="fixed-height" height="250"></amp-gist> <p><a href="https://gist.github.com/lukas-h/ab8e997dbaa0e13b9c884d4570d9d7c7">Gist default.html</a></p> <p>In der Konfigurationsdatei von Jekyll (<code class="highlighter-rouge">_config.yml</code>) sind mehrere Html-Tags, die durch AMP-Html-Tags ersetzt werden sollen, deklariert:</p> <amp-gist data-gistid="206b05564fcb15fdcbc8a438019fea8e" layout="fixed-height" height="250"></amp-gist> <p><a href="https://gist.github.com/lukas-h/206b05564fcb15fdcbc8a438019fea8e">Gist: _config.yml</a></p> <p>Im default-Layout werden dann mit dem <a href="https://help.shopify.com/themes/liquid/filters/string-filters">String-Filter <code class="highlighter-rouge">replace</code></a> bei <code class="highlighter-rouge">content</code> die entsprechenden Html-Tags ersetzt (wie man im ersten Code-Snippet sehen kann).</p> <p>Im default-Layout findet man die Zeile <code class="highlighter-rouge">include head.html</code>. Damit wird das Template für den Html-Kopf eingebunden, welches so aussieht:</p> <amp-gist data-gistid="4765166053040d59e51f888118333b0c" layout="fixed-height" height="250"></amp-gist> <p><a href="https://gist.github.com/lukas-h/4765166053040d59e51f888118333b0c">Gist head.html</a></p> <p>In dem Code-Snippet kann man sehen, dass AMP keine externen CSS-Dateien erlaubt. Stattdessen verwendet man ein inline-<code class="highlighter-rouge">style</code>-Tag mit dem Attribut <code class="highlighter-rouge">amp-custom</code> für alle CSS-Regeln. Wichtig ist zudem, die AMP-Javascript-Datei zu laden (<code class="highlighter-rouge">&lt;script async src="https://cdn.ampproject.org/v0.js"&gt;&lt;/script&gt;</code>).</p> <p>Um noch zusätzliche <a href="https://ampbyexample.com/#components">AMP-Komponenten</a> verwenden zu können, kann man in das Front-Matter der Seiten eine Variable deklarieren, in der die Script-Dateien für die Komponenten sind. Im HTML-Kopf wird dann gecheckt ob die Variable (hier <code class="highlighter-rouge">custom_elements</code>) vorhanden ist und somit in die Seite eingebunden wird.</p> <p>Normalerweise verwendet man AMP nur, um bestimmte Teilbereiche der Website wie News-Artikel oder Produkte bei einem Onlineshop zu ‘beschleunigen’.</p> <p>Wenn man nur AMP-Versionen der Posts bei Jekyll erstellen möchte und <strong>ohne</strong> Github-Pages arbeitet, kann man den Plugin <a href="https://github.com/juusaw/amp-jekyll">jekyll-amp</a> benutzen.</p> <p>Wenn man nur AMP-Versionen der Posts haben will (ohne die ‘unbeschleunigten’, normalen Versionen), kann man ein ähnliches Layout, wie hier im Artikel gezeigt, nur für die Posts (also als Datei <code class="highlighter-rouge">_layouts/post.html</code>) erstellen.</p> <p>update: Support für Github Gists hinzugefügt (<a href="https://ampbyexample.com/components/amp-gist/">Gists in AMP einbinden</a>)<br /> update2: Support für zusätzliche AMP-Komponenten</p> <p><em>Mehr</em> zu AMP<br /> <a href="http://himsel.me/06-12-2017-bilderkarussell-amp-carousel-mit-amp-und-jekyll.html">Bilderkarussell (amp-carousel) mit AMP und Jekyll </a><br /> <a href="ampbyexample.com">https://ampbyexample.com</a><br /> <a href="https://github.com/ageitgey/amplify">AMP Jekyll Theme</a></p> </div> <p> <div class="chip" itemprop="author"> <span itemscope itemtype="http://schema.org/Person">Artikel von <span itemprop="name">Lukas Himsel</span></span> </div> </p> <div itemprop="image" itemscope itemtype="https://schema.org/ImageObject"> <meta itemprop="url" content="http://localhost:4000/images/200x200.jpg"> <meta itemprop="width" content="200"> <meta itemprop="height" content="200"> </div> <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization"> <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject"> <meta itemprop="url" content="http://localhost:4000/images/60x600.jpg"> <meta itemprop="width" content="600"> <meta itemprop="height" content="60"> </div> <meta itemprop="name" content="Lukas Himsel"> </div> <p> <a href="/categories.html#github" class="chip">github</a> <a href="/categories.html#html" class="chip">html</a> <a href="/categories.html#open-source" class="chip">open-source</a> <a href="/categories.html#jekyll" class="chip">jekyll</a> <a href="/categories.html#amp" class="chip">amp</a> </p> </article> </div> <div class="card-action align-center"> <a class="btn " href="/06-12-2017-categories-archive.html"> NÄCHSTER </a> <a class="btn" href="/05-01-2017-jekyll-collection-excerpt.html"> VORHERIGER </a> </div> </div> </div> </main> <footer class="unit whole align-center"> <p>Lukas Himsel's personal website. 17 years old student in Germany, Franconia. Interested in open-source, open-data, modern web development (with AMP, static site generators, following the JAMStack) and music, especially piano music. Blog mostly in german language. </p> <p>Proudly presented <a href="https://jamstack.org"><strong>without</strong> WordPress</a></p> </footer> </div> </body> </html>
